### 回溯算法是什么？
* 回溯算法是算法设计中的一种方法
* 回溯算法是一种渐进式寻找并构建问题解决方式的策略
* 回溯算法会先从一个可能的动作开始解决问题，如果不行，就回溯并选择另一个动作，直达将问题解决

### 什么问题适合用回溯算法解决？
* 有很多路或者可能
* 这些路里，有死路，也有出路
* 通常需要递归来模拟出所有的路

### 全排列问题
* 输入：[1, 2, 3]
* 输出：
  ```
  [
    [1,2,3],
    [1,3,2],
    [2,1,3],
    [2,3,1],
    [3,1,2],
    [3,2,1]
  ]
  ```
* 用递归模拟出所有情况
* 遇到包含重复元素的情况，就回溯
* 收集所有到达递归终点的情况，并返回 

### LeetCode #46 全排列
给定一个 没有重复 数字的序列，返回其所有可能的全排列。

示例:
* 输入: [1,2,3]
* 输出:
    ```
    [
      [1,2,3],
      [1,3,2],
      [2,1,3],
      [2,3,1],
      [3,1,2],
      [3,2,1]
    ]
    ```
解题思路：
1. 要求：
	* 所有排列情况 
	* 没有重复元素
2. 有出路，有死路
3. 考虑使用回溯算法

解题步骤:
1. 用递归模拟出所有情况
2. 遇到包含重复元素的情况，就回溯
3. 收集所有到达递归终点的情况，并返回

复杂度：
1. 时间复杂度：O（n!）,n! =1* 2 * 3 * 4...n
2. 空间复杂度：O（n）n即递归的层数，即数组的长度

```JavaScript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var permute = function(nums) {
    const res = [];
    const backtrack = (path) => {
        if(path.length === nums.length){
            // 收集所有到达递归终点的情况
            res.push(path);
            return;
        }
        nums.forEach(n => {
            if(path.includes(n)){
                // 死路
                // 遇到包含重复元素的情况，就回溯
                return;
            }
            backtrack(path.concat(n));
        })
    }
    backtrack([]);
    return res;
};
```

### LeetCode #78 子集
给定一组不含重复元素的整数数组 nums，返回该数组所有可能的子集（幂集）。

说明：解集不能包含重复的子集。

示例:

* 输入: nums = [1, 2 , 3]
* 输出:
  ```
  [
    [3],
    [1],
    [2],
    [1,2,3],
    [1,3],
    [2,3],
    [1,2],
    []
  ]
  ```
解题思路：
1. 要求：
		* 所有子集
		* 没有重复元素
2. 有出路，有死路
3. 考虑使用回溯算法

解题步骤：
1. 用递归模拟出所有情况
2. 保证接的数字都是后面的数字
3. 收集所有到达递归终点的情况，并返回

复杂度：
1. 时间复杂度：O（2^n）因为每个元素都有两种可能（存在或不存在）
2. 空间复杂度：O（N）

```JavaScript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var subsets = function(nums) {
    const res = [];
    const backtrack = (path, l, start) => {
        // 保证接的数字都是后面的数字，保证子集的有序性
        if(path.length === l){
            res.push(path);
            return;
        }
        for(let i = start; i < nums.length; i += 1){
            backtrack(path.concat(nums[i]), l, i + 1);
        }
    };
    for(let i = 0; i <= nums.length; i += 1){
        // console.log(res)
        backtrack([], i, 0);
    }
    return res;
};
```


### 回溯算法章节总结
* 回溯算法是算法设计中的一种方法
* 回溯算法是一种渐进式寻找并构建问题解决方式的策略
* 回溯算法会先从一个可能的动作开始解决问题，如果不行，就回溯并选择另一个动作，直到将问题解决

### 什么问题适合用回溯算法解决？
* 有很多路或很多可能
* 这些路中，有死路，有出路
* 通常需要递归来模拟所有的路
### 适合回溯算法解决的问题
* 全排列
* 子集

### 阶段思考题
* 说出回溯算法的套路步骤
* 用回溯算法的套路步骤，描述走迷宫的过程。