## 异构系统链路追踪
By 邢沛（From Baidu & DiDi）

1. 服务化改造
    * 效果
    * 挑战
2. 稳定性改造
    * 效果
      * 全链路压测
      * 异地多活（单元化）
      * 一件降级：目的 确保核心业务不受影响
    * 挑战
      * 服务部署复杂度增加
      * 单次调用复杂度增加

3. 诉求
    * 问题追查诉求
      * 效率 && 成功率
      * 问题阻断渠道
    * 日志数据诉求
      * 处理
          * 日志数据格式化
            * 规范落地
            * 各系统架构异构
          * Trace机制落地
            * 技术栈不统一()            
            * 缺少统一rpc中间件
          * 日志数据
            * 大数据量
              * 检索实时性
              * 存储可扩展
              * 检索效率
            * 日志特性
              * 低资源
      * 应用

4. 日志规范和组件
    * 日志规范
      * 业务日志打印格式，位置，内容的约定
      * 引入schema概念
      * 配置日志数据流式处理系统
    * 日志组件
      * 提供物种语言的日志打印组件，兼容现有大部分模块代码
      * 引入trace机制，自动记录trace context关键内容

5. 日志数据处理
    * 服务器 / 容器
    * 清洗集群
    * 存储集群

6. 日志应用
    * 格式化日志
      * 日志流式处理
        * 错误日志监控
          * 上线观察，主动报警
          * 波动曲线
        * 接口性能监控
      * 日志批处理
        * mapReduce
      * 日志实时检索
        * 通过ES进行日志检索


